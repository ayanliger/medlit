<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MedLit Assistant</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="header">
      <div>
        <h1 class="title">MedLit Assistant</h1>
        <p class="subtitle">Built-in AI extension for medical literature review</p>
      </div>
      <button class="primary-action" id="generateSummaryBtn">Generate Study Summary</button>
    </header>

    <main class="main">
      <section class="panel-section">
        <header class="section-header">
          <h2>Structured Summary</h2>
          <div class="section-actions">
            <button class="ghost" id="clearSummaryBtn" title="Clear summary">
              Clear
            </button>
          </div>
        </header>
        <div id="picoOutput" class="section-body empty-state">
          <p><strong>Option 1:</strong> Click "Generate Study Summary" above to analyze the full page.</p>
          <p><strong>Option 2 (Recommended for PDFs):</strong> Highlight text, right-click → "MedLit: Generate Summary from Selection".</p>
        </div>
      </section>

      <section class="panel-section">
        <header class="section-header">
          <h2>Ask Questions</h2>
          <div class="section-actions">
            <button class="ghost" id="clearChatBtn" title="Clear conversation">
              Clear
            </button>
          </div>
        </header>
        <div class="section-body">
          <div id="chatMessages" class="chat-messages empty-state">
            <p><strong>Option 1:</strong> Generate a summary first, then ask questions about the study.</p>
            <p><strong>Option 2:</strong> Highlight text, right-click → "MedLit: Chat with Selection" to ask about specific content.</p>
          </div>
          <form id="chatForm" class="chat-input-form">
            <input
              type="text"
              id="chatInput"
              class="chat-input"
              placeholder="Ask about the summarized text..."
              disabled
            />
            <button type="submit" class="chat-send-btn" disabled>
              Send
            </button>
          </form>
        </div>
      </section>

      <section class="panel-section">
        <header class="section-header">
          <h2>Methodology Assessment</h2>
          <div class="section-actions">
            <button class="ghost" id="clearMethodologyBtn" title="Clear assessment">
              Clear
            </button>
          </div>
        </header>
        <div id="methodologyOutput" class="section-body empty-state">
          <p>Highlight a methods section in the paper, right-click → "MedLit: Scan Methodology".</p>
        </div>
      </section>

      <section class="panel-section">
        <header class="section-header">
          <h2>Language Simplifier</h2>
          <div class="section-actions">
            <label class="control-label">
              Tone:
              <select id="simplifierTone" class="control-select">
                <option value="more-casual" selected>More Casual</option>
                <option value="as-is">As-Is</option>
                <option value="more-formal">More Formal</option>
              </select>
            </label>
            <label class="control-label">
              Length:
              <select id="simplifierLength" class="control-select">
                <option value="shorter">Shorter</option>
                <option value="as-is" selected>As-Is</option>
                <option value="longer">Longer</option>
              </select>
            </label>
            <button class="ghost" id="clearSimplifierBtn" title="Clear simplifications">
              Clear
            </button>
          </div>
        </header>
        <div id="simplifierOutput" class="section-body empty-state">
          <p>Highlight complex medical or technical text, then select "MedLit: Simplify Language" from the context menu.</p>
        </div>
      </section>

      <section class="panel-section">
        <header class="section-header">
          <h2>Translation</h2>
          <div class="section-actions">
            <button class="ghost" id="clearTranslationBtn" title="Clear translations">
              Clear
            </button>
          </div>
        </header>
        <div id="translationOutput" class="section-body empty-state">
          <p>Translate non-English text to English using the "MedLit: Translate Abstract" context menu option.</p>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="status" id="statusMessage">Ready</div>
      <div class="controls">
        <button class="ghost" id="exportBtn" disabled>Export Key Points</button>
        <button class="ghost" id="settingsBtn">Settings</button>
      </div>
    </footer>

    <script type="module" src="./main.js"></script>
  </body>
</html>
